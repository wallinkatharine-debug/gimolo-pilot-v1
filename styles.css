:root{
  --bg1:#7ee7ff;
  --bg2:#b98cff;
  --glass: rgba(255,255,255,.55);
  --glass2: rgba(255,255,255,.35);
  --stroke: rgba(255,255,255,.55);
  --text:#0b1020;
  --muted: rgba(11,16,32,.65);
  --shadow: 0 16px 40px rgba(0,0,0,.18);
  --shadowSoft: 0 10px 28px rgba(0,0,0,.14);
  --radius: 24px;
  --radius2: 18px;
  --primaryA:#2fb6ff;
  --primaryB:#45ffb0;
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color:var(--text);
  overflow-x:hidden;
}

.bg{position:fixed; inset:0; z-index:-2; overflow:hidden;}
.bgGradient{
  position:absolute; inset:-20%;
  background: radial-gradient(1200px 900px at 15% 15%, rgba(255,255,255,.55), transparent 55%),
              radial-gradient(900px 800px at 85% 25%, rgba(255,255,255,.40), transparent 55%),
              linear-gradient(145deg, var(--bg1), var(--bg2));
  filter:saturate(1.1);
}
.bgNoise{
  position:absolute; inset:0;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='120' height='120'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='120' height='120' filter='url(%23n)' opacity='.25'/%3E%3C/svg%3E");
  mix-blend-mode:overlay;
  opacity:.18;
}
.bgSparkles{position:absolute; inset:0; pointer-events:none; opacity:.5}

.app{
  width:min(440px, 100%);
  margin:0 auto;
  padding: max(10px, env(safe-area-inset-top)) 14px max(18px, env(safe-area-inset-bottom)) 14px;
}

.topbar{
  display:flex; align-items:center; justify-content:space-between;
  gap:10px;
  padding:10px 6px 10px 6px;
}

.brand{display:flex; align-items:center; gap:10px; padding:10px 12px;
  background:var(--glass2);
  border:1px solid var(--stroke);
  border-radius:999px;
  box-shadow: var(--shadowSoft);
  backdrop-filter: blur(14px);
}
.brandLogo{width:34px; height:34px; border-radius:12px}
.brandName{font-weight:800; letter-spacing:.2px}
.brandTag{font-size:12px; color:rgba(11,16,32,.55); margin-top:1px}

.topActions{display:flex; align-items:center; gap:10px}
.pillToggle{
  display:flex; align-items:center; gap:10px;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:var(--glass2);
  backdrop-filter: blur(14px);
  box-shadow: var(--shadowSoft);
  font-weight:650;
}
.pillToggle .pillIcon{width:20px; text-align:center}
.pillToggle .pillLabel{font-size:14px}
.pillSwitch{
  width:44px; height:24px; border-radius:999px;
  background:rgba(255,255,255,.55);
  position:relative;
  border:1px solid rgba(255,255,255,.65);
}
.pillKnob{
  position:absolute; top:2px; left:2px;
  width:20px; height:20px; border-radius:999px;
  background: linear-gradient(135deg, var(--primaryA), var(--primaryB));
  box-shadow: 0 6px 14px rgba(0,0,0,.18);
  transition: transform .2s ease;
}
.pillToggle[aria-pressed="false"] .pillKnob{ transform: translateX(20px); filter:grayscale(.4) saturate(.7); opacity:.8}

.iconBtn{
  width:44px; height:44px;
  border-radius:999px;
  border:1px solid var(--stroke);
  background:var(--glass2);
  box-shadow: var(--shadowSoft);
  backdrop-filter: blur(14px);
  font-size:18px;
}

.screen{display:none}
.screen--active{display:block}

.card{
  border-radius: var(--radius);
  border:1px solid rgba(255,255,255,.58);
  background: rgba(255,255,255,.52);
  backdrop-filter: blur(18px);
  box-shadow: var(--shadow);
}
.card--soft{box-shadow: var(--shadowSoft)}
.card--main{padding:22px}
.card--dots{padding:16px 16px 14px 16px}

.cardHeader{display:flex; align-items:flex-end; justify-content:space-between; gap:10px; margin-bottom:8px}
.cardKicker{font-size:12px; letter-spacing:.16em; font-weight:800; color:rgba(11,16,32,.55)}
.cardHint{font-size:12px; color:rgba(11,16,32,.55)}

.dotWorld{position:relative; height:74px; border-radius:18px; background:rgba(255,255,255,.40); border:1px solid rgba(255,255,255,.60); overflow:hidden}
.dot{position:absolute; border-radius:999px; opacity:.95}
.dot.halo{box-shadow: 0 0 0 2px rgba(255,255,255,.65), 0 0 24px rgba(255,255,255,.35)}

.spinArea{display:flex; flex-direction:column; align-items:center; gap:12px; margin:18px 0 12px}
.spinWheel{
  width:260px; height:260px;
  border-radius:999px;
  border:none;
  position:relative;
  background: conic-gradient(#ff3b7b, #ff9f1c, #ffe66d, #7dff8c, #4ad9ff, #6a7cff, #c25cff, #ff3b7b);
  box-shadow: 0 28px 60px rgba(0,0,0,.22);
  transform: translateZ(0);
}
.spinWheel:active{transform: scale(.985)}
.wheelGlow{
  position:absolute; inset:-16px;
  border-radius:999px;
  background: radial-gradient(circle at 40% 35%, rgba(255,255,255,.65), transparent 55%),
              radial-gradient(circle at 70% 70%, rgba(255,255,255,.40), transparent 60%);
  filter: blur(10px);
  opacity:.75;
}
.wheelText{
  position:absolute; inset:0;
  display:flex; align-items:center; justify-content:center;
  font-size:44px;
  font-weight:900;
  letter-spacing:.08em;
  color:white;
  text-shadow: 0 10px 24px rgba(0,0,0,.25);
}
.microLine{font-size:16px; font-weight:650; color:rgba(11,16,32,.75); text-align:center}
.matchesLine{font-size:14px; color:rgba(11,16,32,.55); text-align:center}

.personalityCard{padding:14px 14px 16px 14px; margin-bottom:14px}
.personalityRow{display:flex; justify-content:space-between; align-items:flex-end; gap:10px; margin-bottom:10px}
.personalityTitle{font-weight:850}
.personalitySub{font-size:12px; color:rgba(11,16,32,.55)}
.faces{display:flex; gap:10px; justify-content:space-between}
.face{
  flex:1;
  display:flex; flex-direction:column; align-items:center; gap:6px;
  padding:12px 10px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.65);
  background:rgba(255,255,255,.40);
  font-weight:750;
}
.faceEmoji{font-size:22px}
.faceName{font-size:13px; color:rgba(11,16,32,.75)}
.face--active{background:rgba(255,255,255,.62); box-shadow:0 10px 22px rgba(0,0,0,.12);}

.bottomNav{
  position:sticky;
  bottom:0;
  display:flex; gap:12px;
  padding:10px 0 0;
}
.navBtn{
  flex:1;
  display:flex; flex-direction:column; align-items:center; gap:4px;
  padding:10px 12px;
  border-radius:20px;
  border:1px solid rgba(255,255,255,.62);
  background:rgba(255,255,255,.40);
  backdrop-filter: blur(14px);
}
.navBtn--active{background:rgba(255,255,255,.62)}
.navIcon{font-size:18px}
.navText{font-size:12px; font-weight:750; color:rgba(11,16,32,.70)}

.activityTop{display:flex; justify-content:space-between; align-items:center; gap:12px}
.activityKicker{font-size:12px; letter-spacing:.16em; font-weight:900; color:rgba(11,16,32,.55)}
.ghostBtn{
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.65);
  background:rgba(255,255,255,.40);
  font-weight:800;
}
.sparkLine{margin-top:10px; font-weight:850; color:rgba(11,16,32,.70)}
.activityTitle{margin:10px 0 8px 0; font-size:34px; line-height:1.05; letter-spacing:-.02em}
.activityDesc{margin:0 0 14px 0; font-size:16px; color:rgba(11,16,32,.70); line-height:1.35}

.pillRow{display:flex; flex-wrap:wrap; gap:10px; margin:10px 0 18px 0}
.pill{
  padding:8px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.65);
  background:rgba(255,255,255,.45);
  font-size:13px;
  font-weight:750;
  color:rgba(11,16,32,.72);
}

.ctaRow{display:flex; gap:12px; align-items:stretch}
.primaryBtn{
  flex:1;
  padding:14px 14px;
  border:none;
  border-radius:18px;
  background: linear-gradient(135deg, var(--primaryA), var(--primaryB));
  color:white;
  font-weight:900;
  font-size:16px;
  box-shadow: 0 16px 26px rgba(0,0,0,.16);
}
.secondaryBtn{
  padding:14px 16px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.70);
  background:rgba(255,255,255,.45);
  font-weight:900;
  font-size:16px;
}

.progressTitle{margin:12px 0 8px 0; font-size:28px; letter-spacing:-.02em}
.progressTone{color:rgba(11,16,32,.70); font-weight:700; margin-bottom:14px}

.timerWrap{margin:8px 0 16px 0}
.timerBar{height:10px; border-radius:999px; background:rgba(255,255,255,.55); border:1px solid rgba(255,255,255,.70); overflow:hidden}
.timerFill{height:100%; width:0%; background: linear-gradient(135deg, var(--primaryA), var(--primaryB))}
.timerHint{margin-top:8px; font-size:12px; color:rgba(11,16,32,.55)}

.card--done{position:relative; overflow:hidden}
.confetti{position:absolute; inset:0; pointer-events:none}
.doneTitle{margin:8px 0 8px 0; font-size:32px}
.doneHint{color:rgba(11,16,32,.70); font-weight:700; margin-bottom:14px}
.nextRow{display:flex; flex-wrap:wrap; gap:10px; margin:10px 0 16px 0}
.chipBtn{
  flex:1;
  min-width: 46%;
  padding:10px 12px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.70);
  background:rgba(255,255,255,.45);
  font-weight:850;
}

.sheetBackdrop{
  position:fixed; inset:0;
  background:rgba(0,0,0,.25);
  backdrop-filter: blur(4px);
}
.sheet{
  position:fixed;
  left:50%;
  transform:translateX(-50%);
  bottom:-100%;
  width:min(440px, 100%);
  padding:14px;
  transition: bottom .22s ease;
  z-index:20;
  border-radius: 28px 28px 0 0;
  border:1px solid rgba(255,255,255,.58);
  background:rgba(255,255,255,.55);
  backdrop-filter: blur(18px);
  box-shadow: 0 -18px 50px rgba(0,0,0,.22);
}
.sheet.open{bottom:0}
.sheetHeader{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:6px 2px 12px 2px}
.sheetTitle{font-weight:950; font-size:18px}
.sheetSub{font-size:12px; color:rgba(11,16,32,.55)}
.sheetBody{display:flex; flex-direction:column; gap:14px; padding:4px 2px 12px 2px}
.sheetFooter{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 2px 6px 2px}
.matchesSmall{font-size:13px; font-weight:850; color:rgba(11,16,32,.60)}

.checkRow{display:flex; align-items:center; gap:10px; padding:12px; border-radius:18px; border:1px solid rgba(255,255,255,.70); background:rgba(255,255,255,.40); font-weight:850}
.checkRow input{transform: scale(1.1)}

.groupTitle{font-weight:950; margin-bottom:8px}
.segmented{display:flex; gap:10px}
.segBtn{
  flex:1;
  padding:12px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.70);
  background:rgba(255,255,255,.40);
  font-weight:900;
}
.segBtn.active{background:rgba(255,255,255,.68); box-shadow:0 10px 22px rgba(0,0,0,.12)}

button{cursor:pointer}
button:focus{outline: 3px solid rgba(255,255,255,.55); outline-offset:2px}
